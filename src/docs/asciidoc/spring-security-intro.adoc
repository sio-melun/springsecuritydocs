= Spring Security
Frédéric Varni, Olivier Capuozzo
v1.0, 2020-02-06: Version asciidoc
:description: Introduction à Spring Security
:icons: font
:listing-caption: Listing
:toc-title: Table des matières
:toc:
:toclevels: 2
:source-highlighter: coderay
ifdef::backend-pdf[]
:title-logo-image: image:logo.png[pdfwidth=4.25in,align=center]
:source-highlighter: rouge
endif::[]

== Présentation

Spring Security est un framework qui permet de personaliser et gérer
l'authentification et les autorisations des applications Spring. Nous étudierons
plua particulièrement l'utililsation de Spring Security dans une application
Spring Boot MVC _classique_

=== L'application exemple
==== Description
Pour les besoins de ses adhérents une association sportive de golf souhaite gérer les inscriptions de ses adhérents aux compétitions qu'elle organise.

Modèle de données

[plantuml]
----
object Competition {
  id: Integer
  nom: String
  datePrevue: Date
  inscriptionsOuvertes: Boolean\t
  maxJoueurs: Integer
}

object Modalite {
  id: Integer
  libelle: String
  
}

object Joueur {
  id: Integer
  nom: String
  prenom: String
  licence: String
  index: Float

}

object User {
  id: Integer
  login: String
  motDePasse: Boolean
}

object Role {
  id: Integer
  nom: String
}

object Inscription {
  id: Integer
  dateInscription: Date\t
  index: Float
}

Inscription "*" -> "1" Joueur : "          "
Competition "1" <- "*" Inscription : "          "
Modalite "1" -- "*" Competition : "        "
Joueur "0..1" -- "1" User
Role "*" - "*" User : "        "
note top of Inscription : \t<<association>>\n {Lien : Competition, Joueur}

----

===== Objectifs
===== Besoins en termes de sécurité
==== Gestion des utilisateurs
==== Les autorisations
* Administrateurs
+
--
Peuvent :

** Gérer les utilisateurs
** Accorder des autorisations
** Créer des catégories de compétitions

Un administrateurs ne peut pas se supprimer lui-même, garantie qu'il reste au moins un administrateur dans le système
--

* Gestionnaires
+
--
* Créer une compétition
* Ouvrir les inscriptions à une compétition
* Fermer les inscriptions
--

* Utilisateurs
+
--
* S'inscrire à une compétition
* Se désinscrire d'une compétition
* Consulter la liste des inscrits à une compétition
--

* Invités
+
--
Voir la liste des compétitions, mais pas les inscrits.
--

=== Les sources d'authentification

=== La gestion des rôles


== Activer Spring Security

== Choisir une source d'authentification

== Gérer les rôles

[bibliography]
== Bibliographie
- [[[SSIA]]] Laurentiu Spilca. Spring Security In Action. Manning 2020.
- [[[BAELDUNG]]] Sur Spring en général et Spring Security en particulier : link:https://www.baeldung.com/security-spring[Baeldung on Spring Security]
